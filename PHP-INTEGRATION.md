# Virtual Solutions Path - PHP Integration Guide

This guide explains how the PHP backend is integrated with the React frontend in this project.

## Project Structure

```
/
├── src/
│   ├── components/            # React components
│   ├── services/
│   │   └── hostinger.ts       # API service for PHP endpoints
│   └── ...
├── hostinger-deployment/
│   └── public_html/
│       ├── contact.php        # Contact form handler
│       ├── login.php          # Authentication handler
│       ├── signup.php         # Registration handler
│       └── ...
└── deploy/                    # Generated by deployment script
    ├── api/                   # PHP files ready for deployment
    ├── assets/                # React assets
    └── ...
```

## How It Works

1. **API Service Layer**:
   - The `src/services/hostinger.ts` file handles all API requests to PHP endpoints
   - It provides typed interfaces for request/response data
   - Includes error handling and authentication management

2. **PHP Endpoints**:
   - Located in `hostinger-deployment/public_html/`
   - Handle database operations, email sending, and user authentication
   - Return JSON responses for the frontend to consume

3. **Deployment Process**:
   - The deployment script builds the React app and copies PHP files to the correct locations
   - Creates the appropriate folder structure for Hostinger hosting
   - Generates a proper .htaccess file for routing

## Integration Points

### Contact Form

The contact form in `ContactPage.tsx` sends data to `contact.php`:

```typescript
// In ContactPage.tsx
import { submitContactForm } from '../services/hostinger';

// In a form submit handler
const handleSubmit = async (e) => {
  e.preventDefault();
  try {
    await submitContactForm(formData);
    // Handle success
  } catch (error) {
    // Handle error
  }
};
```

### Authentication

User login/signup flows use the PHP endpoints:

```typescript
// In LoginForm.tsx or similar
import { loginUser } from '../services/hostinger';

// In login handler
const handleLogin = async (e) => {
  e.preventDefault();
  try {
    const result = await loginUser({
      email: email,
      password: password
    });
    // Handle successful login
  } catch (error) {
    // Handle login error
  }
};
```

## Configuration

The PHP endpoints are configured with your database credentials and email settings. These settings are stored in:

1. Database configuration in each PHP file
2. Email settings in `email-service.php`

## Testing Locally

To test the integration locally:

1. Start your React development server: `npm run dev`
2. Copy the PHP files to your local PHP server or XAMPP/WAMP
3. Update the `API_BASE_URL` in `src/services/hostinger.ts` to point to your local PHP server
4. Make test requests through the UI or with tools like Postman

## Deployment

Use the provided deployment scripts:

```bash
# Using batch file
deploy-to-hostinger.bat

# Or using PowerShell
./deploy-to-hostinger.ps1
```

Then follow the instructions in `HOSTINGER-DEPLOYMENT.md` to complete the deployment.

## Security Considerations

- All PHP endpoints include proper input validation
- Passwords are hashed using PHP's password_hash function
- CORS headers are configured to restrict access to your domain
- Database queries use prepared statements to prevent SQL injection
